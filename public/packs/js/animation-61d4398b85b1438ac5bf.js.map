{"version":3,"file":"js/animation-61d4398b85b1438ac5bf.js","sources":["webpack:///webpack/bootstrap","webpack:///./app/javascript/packs/animation.js"],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/packs/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./app/javascript/packs/animation.js\");\n","document.addEventListener('DOMContentLoaded', () => {\n  var container = document.querySelector(\".anime-container\");\n\nvar sparks = [];\nvar sparksIndex = 0;\n\nvar a = 10;\n// I did a test and it seems mousemove only fires every frame (screen refresh), so sparkCount should be more than the frames a sec they get (so 60 for me).\nvar sparkCount = 100;\nvar sparkParticleCount = 6;\n\nfunction lerp(p1, p2, t) {\n  return p1 + (p2 - p1) * t;\n}\n\n//https://gist.github.com/gre/1650294\nconst ease = {\n  // no easing, no acceleration\n  linear: (t) => t,\n  // accelerating from zero velocity\n  inQuad: (t) => t * t,\n  // decelerating to zero velocity\n  outQuad: (t) => t * (2 - t),\n  // acceleration until halfway, then deceleration\n  inOutQuad: (t) => (t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t),\n  // accelerating from zero velocity\n  inCubic: (t) => t * t * t,\n  // decelerating to zero velocity\n  outCubic: (t) => --t * t * t + 1,\n  // acceleration until halfway, then deceleration\n  inOutCubic: (t) =>\n    t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\n  // accelerating from zero velocity\n  inQuart: (t) => t * t * t * t,\n  // decelerating to zero velocity\n  outQuart: (t) => 1 - --t * t * t * t,\n  // acceleration until halfway, then deceleration\n  inOutQuart: (t) => (t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t),\n  // accelerating from zero velocity\n  inQuint: (t) => t * t * t * t * t,\n  // decelerating to zero velocity\n  outQuint: (t) => 1 + --t * t * t * t * t,\n  // acceleration until halfway, then deceleration\n  inOutQuint: (t) =>\n    t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t\n};\n\n// https://stackoverflow.com/questions/5837572/generate-a-random-point-within-a-circle-uniformly\nfunction circularRandom(r) {\n  // Math.abs(Math.random() - Math.random()) makes it have a bias towards 0, or in our case the center\n  r = r * Math.sqrt(Math.abs(Math.random() - Math.random()));\n  var theta = Math.random() * 2 * Math.PI;\n  var x = r * Math.cos(theta);\n  var y = r * Math.sin(theta);\n  return { x: x, y: y, r: r };\n}\n\n// Create the sparks\nfor (var i = 0; i <= sparkCount; i += 1) {\n  var spark = { els: [] };\n\n  for (var j = 0; j < sparkParticleCount; j++) {\n    var dot = document.createElement(\"div\");\n    dot.classList.add(\"dot\");\n    container.appendChild(dot);\n    spark.els.push(dot);\n\n    var particleSize = anime.random(5, 20);\n    var sparkRadius = 20;\n    var { x, y ,r } = circularRandom(sparkRadius);\n\n    // Make particles further from the center, smaller\n    dot.style.width =\n      lerp(particleSize, 1, ease.outQuad(r / sparkRadius)) + \"px\";\n    dot.style.height =\n      lerp(particleSize, 1, ease.outQuad(r / sparkRadius)) + \"px\";\n    dot.style.opacity = \"0\";\n    // by setting the particles start offset position using translate we can reposition the spark using left and top\n    dot.style.transform = \"translateX(\" + x + \"px) translateY(\" + y + \"px)\";\n  }\n\n  spark.anime = new anime({\n    targets: spark.els,\n    loop: false,\n    easing: \"linear\",\n    autoplay: false,\n    delay: anime.stagger(8),\n    opacity: [\n      { value: 0, duration: 0 },\n      { value: 1, duration: 40 },\n      {\n        value: 0,\n        duration: function () {\n          return anime.random(500, 800);\n        }\n      }\n    ],\n    width: { value: 2, duration: 500 },\n    height: { value: 2, duration: 500 },\n    translateX: {\n      value: function () {\n        return anime.random(-30, 30);\n      },\n      duration: 800\n    },\n    translateY: {\n      value: function () {\n        return anime.random(-30, 30);\n      },\n      duration: 800\n    }\n  });\n  sparks.push(spark);\n}\n\n// Mouse trail bit\nwindow.addEventListener(\n  \"mousemove\",\n  function (e) {\n    anime.set(sparks[sparksIndex].els, {\n      left: e.pageX,\n      top: e.pageY\n    });\n    sparks[sparksIndex].anime.restart();\n    sparksIndex++;\n    if (sparksIndex == sparks.length) sparksIndex = 0;\n  },\n  false\n);\n});\n\n\n\n\nvar TxtRotate = function(el, toRotate, period) {\n  this.toRotate = toRotate;\n  this.el = el;\n  this.loopNum = 0;\n  this.period = parseInt(period, 10) || 2000;\n  this.txt = '';\n  this.tick();\n  this.isDeleting = false;\n};\n\nTxtRotate.prototype.tick = function() {\n  var i = this.loopNum % this.toRotate.length;\n  var fullTxt = this.toRotate[i];\n\n  if (this.isDeleting) {\n    this.txt = fullTxt.substring(0, this.txt.length - 1);\n  } else {\n    this.txt = fullTxt.substring(0, this.txt.length + 1);\n  }\n\n  this.el.innerHTML = '<span class=\"wrap\">'+this.txt+'</span>';\n\n  var that = this;\n  var delta = 300 - Math.random() * 100;\n\n  if (this.isDeleting) { delta /= 2; }\n\n  if (!this.isDeleting && this.txt === fullTxt) {\n    delta = this.period;\n    this.isDeleting = true;\n  } else if (this.isDeleting && this.txt === '') {\n    this.isDeleting = false;\n    this.loopNum++;\n    delta = 500;\n  }\n\n  setTimeout(function() {\n    that.tick();\n  }, delta);\n};\n\nwindow.onload = function() {\n  var elements = document.getElementsByClassName('txt-rotate');\n  for (var i=0; i<elements.length; i++) {\n    var toRotate = elements[i].getAttribute('data-rotate');\n    var period = elements[i].getAttribute('data-period');\n    if (toRotate) {\n      new TxtRotate(elements[i], JSON.parse(toRotate), period);\n    }\n  }\n  // INJECT CSS\n  var css = document.createElement(\"style\");\n  css.type = \"text/css\";\n  css.innerHTML = \".txt-rotate > .wrap { border-right: 0.08em solid #666 }\";\n  document.body.appendChild(css);\n};\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClFA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}